<div class="jumbotron">
  <div class="container">
    <h1 class="display-4 text-center">The New York Times</h1>
    <p class="lead text-center">This is a simple web scraping app that takes NYT's technology articles and displays them here.</p>
    <p class="text-center">Begin with "Scrape New Articles" to populate this page.</p>
    <hr class="my-4">
    <p class="lead text-right">
      <button type="button" class="btn btn-primary btn-lg" id="scrape" data-toggle="modal" data-target="#alertModal">Scrape New Articles</button>
      <a href="/articles/viewSaved"><button type="button" class="btn btn-primary btn-lg" id="viewSaved">View Saved Articles</button></a>
    </p>
  </div>
</div>

<div class="container">

  {{#each articles}}
    {{#unless saved}}
      <div class="card border-secondary mb-3">
        <a href="{{storyUrl}}" target="_blank">
          <img class="card-img-top" src="{{imgUrl}}" alt="">
        </a>
        <div class="card-body">
          {{#if storyUrl}}
            <a href="{{storyUrl}}" target="_blank">
              <h3 class="card-title">{{headline}}</h3>
            </a>
          {{else}}
            <h3 class="card-title">{{headline}}</h3>
          {{/if}}
          <h4 class="text-uppercase">{{byLine}}</h4>
          <h5 class="">{{summary}}</h5>
          <button type="button" class="btn btn-info" id="saveArticle" data-id="{{_id}}">Save Article</button>
        </div>
      </div>
  {{/unless}}
  {{/each}} 

</div>

<div id="alertModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body text-center">
        <h2>You have scraped <span id="numArticles"></span> new tech articles!</h2>
      </div>
    </div>
  </div>
</div>

<div id="error" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-md" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body text-center">
        <h2 class="text-danger">There was an error processing your request. Please try again later.</h2>
      </div>
    </div>
  </div>
</div>